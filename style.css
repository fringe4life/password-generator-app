/* CSS Reset and Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Interactive elements */
button,
input[type="range"],
input[type="checkbox"],
label {
  cursor: pointer;
}

/* Utility classes */
.between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.grid {
  display: grid;
}

/* Custom Properties */
:root {
  /* Colors - HSL format */
  --color-almost-white: hsl(0, 0%, 100%);
  --color-dark-grey: hsl(248, 15%, 11%);
  --color-grey: hsl(251, 9%, 53%);
  --color-light-grey: hsl(0, 0%, 59%);
  --color-neon-green: hsl(127, 100%, 82%);
  --color-darkish-grey: hsl(248, 5%, 34%);
  --color-very-dark-grey: hsl(248, 10%, 15%);
  --color-dark-blue: hsl(247, 11%, 15%);
  --color-red: hsl(0, 91%, 63%);
  --color-orange: hsl(13, 95%, 66%);
  --color-yellow: hsl(42, 91%, 68%);

  /* Typography */
  --font-family-primary: 'JetBrains Mono', monospace;
  --font-size-body: 1rem; /* 16px */
  --font-size-heading: 1.5rem; /* 24px */
  --font-size-large: 2rem; /* 32px */
  --font-size-small: 0.875rem; /* 14px */
  --font-weight-normal: 400;
  --font-weight-bold: 700;
  --line-height-normal: 1.5;

  /* Spacing */
  --spacing-xs: 0.5rem; /* 8px */
  --spacing-sm: 0.75rem; /* 12px */
  --spacing-md: 1rem; /* 16px */
  --spacing-md-lg: 1.125rem; /* 18px */
  --spacing-lg-sm: 1.25rem; /* 20px */
  --spacing-lg: 1.5rem; /* 24px */
  --spacing-xl: 2rem; /* 32px */
  --spacing-xxl: 3rem; /* 48px */

  /* Layout */
  --container-max-width: 33.75rem; /* 540px */
  --container-margin-top: 8.25rem; /* 104px */
  --container-margin-top-mobile: 4rem; /* 64px */

  /* Sizes */
  --size-xs: 0.625rem; /* 10px */
  --size-sm: 0.75rem; /* 12px */
  --size-md: 1.25rem; /* 20px */
  --size-lg: 1.75rem; /* 28px */
  --size-xl: 3.5rem; /* 56px */
  --size-2xl: 4rem; /* 64px */

  /* Border radius */
  --border-radius: 0.5rem; /* 8px */
  --border-radius-circle: 50%;

  /* Borders */
  --border-width-thin: 2px;
  --border-width-normal: 2px;

  /* Shadows */
  --shadow-glow: 0 0 0.5rem var(--color-neon-green);

  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;

  /* Z-index */
  --z-index-copy-success: 10;

  /* Letter spacing */
  --letter-spacing-wide: 0.0625rem; /* 1px */

  /* Animation values */
  --animation-translate-y: -2px;
  --animation-translate-x: 2px;
  --animation-scale-hover: 1.02;
  --animation-scale-normal: 1;
  --animation-scale-pulse: 1.05;
}

/* Animations - Hidden behind prefers-reduced-motion */
@media (prefers-reduced-motion: no-preference) {
  @keyframes --fade-in {
    from {
      opacity: 0;
      translate: 0 var(--spacing-xs);
    }
    to {
      opacity: 1;
      translate: 0 0;
    }
  }

  @keyframes --slide-in {
    from {
      translate: calc(-1 * var(--spacing-md)) 0;
      opacity: 0;
    }
    to {
      translate: 0 0;
      opacity: 1;
    }
  }

  @keyframes --pulse {
    0%, 100% {
      scale: var(--animation-scale-normal);
    }
    50% {
      scale: var(--animation-scale-pulse);
    }
  }

  @keyframes --strength-fill {
    from {
      scale: 0.5 1;
    }
    to {
      scale: 1 1;
    }
  }
}

body {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-normal);
  color: var(--color-almost-white);
  background: linear-gradient(to right, hsl(248, 17%, 9%), hsl(255, 22%, 4%));
  min-block-size: 100svh;
}

/* Container */
.container {
  margin-block-start: var(--container-margin-top);
  max-inline-size: var(--container-max-width);
  margin-inline: auto;
  display: grid;
  gap: var(--spacing-xl);
}

h1 {
  font-size: var(--font-size-heading);
  color: var(--color-grey);
  text-align: center;
}

/* Password Generator */
.password-generator {
  animation: --fade-in 0.5s ease-out;
  display: grid;
  gap: var(--spacing-lg);
}

/* Password Display */
.password-display {
  background-color: var(--color-dark-blue);
  padding: var(--spacing-md-lg) var(--spacing-xl);
  position: relative;
}

.password-output {
  background: none;
  border: none;
  color: var(--color-almost-white);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-bold);
  flex: auto;
  outline: none;
  cursor: text;
}

.password-output::placeholder {
  color: var(--color-light-grey);
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-bold);

}

.copy-btn {
  background: none;
  border: none;
  border-radius: var(--border-radius);
  transition: var(--transition-fast);
}

.copy-btn:hover {
  background-color: var(--color-dark-grey);
}

.copy-btn:focus-visible {
  outline: var(--border-width-thin) solid var(--color-neon-green);
  outline-offset: var(--border-width-thin);
}

.copy-icon {
  inline-size: var(--size-md);
  aspect-ratio: 1;
  transition: var(--transition-fast);
}

.copy-btn:hover .copy-icon {
  fill: var(--color-almost-white);
}

/* Password Controls */
.password-controls {
  display: grid;
  background-color: var(--color-dark-blue);
  padding: var(--spacing-lg) var(--spacing-xl);
  gap: var(--spacing-xl);
}

.length-control {
  display: grid;
  gap: var(--spacing-md);
}

/* Base class for form labels */
.form-label {
  font-size: var(--font-size-body);
  color: var(--color-almost-white);
}

.length-label {
  font-weight: var(--font-weight-bold);
}

.length-value {
  font-size: var(--font-size-large);
  color: var(--color-neon-green);
  font-weight: var(--font-weight-bold);
}

/* Range Slider */
.length-slider {
  block-size: var(--spacing-xs);
  background: var(--color-dark-grey);
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  margin-block: calc(var(--size-lg) - var(--spacing-md)) 0;
}

/* Webkit slider thumb */
.length-slider::-webkit-slider-thumb {
  appearance: none;
  -webkit-appearance: none;
  inline-size: var(--size-lg);
  aspect-ratio: 1;
  background: var(--color-almost-white);
  border-radius: var(--border-radius-circle);
  transition: var(--transition-fast);
}

.length-slider::-webkit-slider-thumb:hover {
  background: var(--color-neon-green);
  box-shadow: var(--shadow-glow);
}

/* Mozilla range thumb */
.length-slider::-moz-range-thumb {
  inline-size: var(--size-lg);
  block-size: var(--size-lg);
  background: var(--color-almost-white);
  border: none;
  border-radius: var(--border-radius-circle);
  transition: var(--transition-fast);
}

.length-slider::-moz-range-thumb:hover {
  background: var(--color-neon-green);
  box-shadow: var(--shadow-glow);
}

/* Options List */
.options-list {
  display: grid;
  gap: var(--spacing-md);
}

.option-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.option-checkbox {
  inline-size: var(--size-md);
  aspect-ratio: 1;
  accent-color: var(--color-neon-green);
}

.option-label {
  user-select: none;
}

/* Strength Meter */
.strength-meter {
  background-color: var(--color-dark-grey);
  padding: var(--spacing-lg) var(--spacing-xl);
}

.strength-label {
  font-size: var(--font-size-body);
  color: var(--color-grey);
  text-transform: uppercase;
}

.strength-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.strength-text {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  text-transform: uppercase;
  min-inline-size: var(--size-xl);
  text-align: right;
}

.strength-bars {
  display: flex;
  gap: var(--spacing-xs);
  inline-size: var(--size-2xl);
  aspect-ratio: 8 / 3;
  contain: strict;
}

.strength-bar {
  inline-size: var(--size-xs);
  border: var(--border-width-thin) solid var(--color-almost-white);
  background: transparent;
  transition: border-color var(--transition-normal), background-color var(--transition-normal);
  transform-origin: left center;
}

.strength-bar.filled.weak {
  --_strength-color: var(--color-red);
}

.strength-bar.filled.medium {
  --_strength-color: var(--color-orange);
}

.strength-bar.filled.strong {
  --_strength-color: var(--color-yellow);
}

.strength-bar.filled.very-strong {
  --_strength-color: var(--color-neon-green);
}

.strength-bar.filled:is(.weak, .medium, .strong, .very-strong) {
  border-color: var(--_strength-color);
  background-color: var(--_strength-color);
}

/* Generate Button */
.generate-btn {
  background-color: var(--color-neon-green);
  border: none;
  padding: var(--spacing-lg-sm) var(--spacing-md);
  color: var(--color-dark-grey);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  transition: var(--transition-fast);
  gap: var(--spacing-md);
  inline-size: 100%;
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

.generate-btn:hover {
  background-color: var(--color-almost-white);
  translate: 0 var(--animation-translate-y);
}

.generate-btn:is(:active, :disabled) {
  translate: 0 0;
}

.generate-btn:focus-visible {
  outline: var(--border-width-thin) solid var(--color-almost-white);
  outline-offset: var(--border-width-thin);
}

.generate-btn:disabled {
  background-color: var(--color-grey);
  cursor: not-allowed;
}

.generate-icon {
  inline-size: var(--size-sm);
  aspect-ratio: 1;
  filter: brightness(0);
  transition: var(--transition-fast);
}

.generate-btn:hover .generate-icon {
  translate: var(--animation-translate-x) 0;
}

/* Copy Success Animation */
.copy-success {
  position: absolute;
  inset: 50% var(--spacing-md) auto auto;
  translate: 0 -50%;
  background-color: var(--color-neon-green);
  color: var(--color-dark-grey);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--border-radius);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  opacity: 0;
  pointer-events: none;
  transition: var(--transition-fast);
  z-index: var(--z-index-copy-success);
}

.copy-success.show {
  opacity: 1;
  animation: --slide-in 0.3s ease-out;
}

/* Responsive Design */
@media (max-width: 37.5rem) { /* 600px */
  .container {
    padding: var(--spacing-sm);
  }

  .password-generator {
    padding: var(--spacing-lg);
  }

  .password-output {
    font-size: var(--font-size-body);
  }

  .strength-meter {
    gap: var(--spacing-md);
    align-items: flex-start;
  }

  .strength-indicator {
    inline-size: 100%;
    justify-content: space-between;
  }
}

@media (max-width: 25rem) { /* 400px */
  .container {
    margin-block-start: var(--container-margin-top-mobile);
  }
  
  .password-generator {
    padding: var(--spacing-md);
  }

  .password-display, .password-controls {
    padding: var(--spacing-md);
  }

  .strength-meter {
    padding: var(--spacing-md) var(--spacing-sm);
  }

  h1, .option-label {
    font-size: var(--font-size-body);
  }

  .length-value {
    font-size: var(--font-size-heading);
  }
} 